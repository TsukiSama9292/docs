# 隱寫術

## 簡易檔案隱寫成圖片的方法 (大檔案)

### 前置條件

1. 一個圖檔
2. 一個檔案或資料夾

```bash
$ ls -la
空間     檔名
59430   image.jpg
4096    secret (我這裡是資料夾，空間佔用看起來很小正常)

```

### 不壓縮、加密、大檔案拆分

```bash
7z a -pYourPasswordHere -mhe=on -mx=0 -v3072M secret.7z secret

```

### 將圖片與加密檔串接

```bash
i=1; for vol in secret.7z.*; do cat image.jpg "$vol" > $(printf "hidden%03d.jpg" $i); ((i++)); done

```

### 確認 sha256sum

```bash
for f in hidden*.jpg; do sha256sum "$f" | awk '{print $2 " : " $1}'; done

```

### 上傳至雲端

1. Google Drive (免費帳號 15GB)
2. TeraBox (免費帳號 1TB)
3. OneDrive (免費帳號 5GB)
...etc

### 下載回本地後

1. 確認哈希值一致

```bash
for f in hidden*.jpg; do sha256sum "$f" | awk '{print $2 " : " $1}'; done

```

1. 回復成分捲狀態

```bash
i=1; img_size=$(stat -c%s image.jpg); for f in hidden*.jpg; do tail -c +$((img_size+1)) "$f" > $(printf "secret.7z.%03d" $i); ((i++)); done

```

1. 解密

```
7z x secret.7z.001 -pYourPasswordHere

```

## 簡易檔案隱寫成圖片的方法 (小檔案)

### 前置條件

1. 一個圖檔
2. 一個檔案或資料夾

```bash
$ ls -la
空間     檔名
59430   image.jpg
4096    secret (此處範例是資料夾)

```

### 不壓縮直接加密

```bash
7z a -pYourPasswordHere -mhe=on -mx=0 secret.7z secret

```

### 將圖片與加密壓縮檔串接

```bash
cat image.jpg secret.7z > hidden.jpg

```

### 目錄下會看到

```bash
$ ls -la
空間     檔名
111270  hidden.jpg
59430   image.jpg
4096    secret
51840   secret.7z

```

### 確認 sha256sum

```bash
sha256sum hidden.jpg | awk '{print $1}'

```

### 上傳至雲端

1. Google Drive (免費帳號 15GB)
2. TeraBox (免費帳號 1TB)
3. OneDrive (免費帳號 5GB)
...etc

### 下載回本地後

（手機）記得要把圖片當作壓縮檔打開

1. 確認哈希值一致

```bash
sha256sum hidden.jpg | awk '{print $1}'

```

1. 解密

```bash
7z x hidden.jpg

```